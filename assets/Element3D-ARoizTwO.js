import{a as p,b as f,r as t,d as w,j as e,V as m,e as h,O as g,S as x,E as j,H as v,D as b,f as S}from"./vendor-9mmok4ts.js";import"./index-TGxvkKdb.js";const E=()=>{const n=p();console.log("three",n);const{scene:o,animations:i}=f("./models/dancer.glb"),c=t.useRef(null),[a,s]=t.useState("wave"),{actions:l}=w(i,c);console.log("actions",l),t.useEffect(()=>{o.traverse(r=>{r.isMesh&&(r.castShadow=!0,r.recieveShadow=!0)})},[o]),t.useEffect(()=>(l[a].fadeIn(.5).play(),()=>{l[a].fadeOut(.5).stop()}),[l,a]);const d=r=>{console.log(r.data),typeof r.data=="string"==="danceChange"&&s(u=>u=="wave"?"windmill":"wave")};return t.useEffect(()=>(window.addEventListener("message",d),()=>{window.removeEventListener("message",d)}),[]),e.jsx("primitive",{ref:c,scale:.5,object:o,position:[100,55,80]})};new m;new m(0,1,0);new m;function M(){const n=f("./models/office_objects.glb"),o=f("./models/wall_floor.glb"),i=f("./models/monitor.glb"),c=t.useRef();h(c,b,5,"red");const a=t.useRef();return h(a,S,5,"red"),t.useEffect(()=>{n.scene.traverse(s=>{s.isMesh&&(s.castShadow=!0,s.receiveShadow=!0)}),o.scene.traverse(s=>{s.isMesh&&(s.receiveShadow=!0)}),i.scene.traverse(s=>{s.isMesh&&(s.castShadow=!0,s.receiveShadow=!0)})},[n,o,i]),e.jsxs(e.Fragment,{children:[e.jsx(g,{}),e.jsx("axesHelper",{args:[500,500,500]})," ",e.jsx(x,{}),e.jsx(j,{preset:"sunset",background:!0}),e.jsx("directionalLight",{ref:c,intensity:1,position:[-100,400,0],color:"#fdfbfb",castShadow:!0,"shadow-camera-left":-500,"shadow-camera-right":500,"shadow-camera-top":500,"shadow-camera-bottom":-500,"shadow-camera-near":10,"shadow-camera-far":1e3,"shadow-mapSize-width":1e4,"shadow-mapSize-height":1e4}),e.jsx("spotLight",{ref:a,position:[-100,115,162],"target-position":[-100,0,162],angle:40*Math.PI/180,penumbra:.1,color:"gold",intensity:45e3}),e.jsx(v,{className:"monitorScreen",transform:!0,occlude:"blending",rotation:[0,90*Math.PI/180,0],position:[57.9,71,-3.3],children:e.jsx("iframe",{src:"https://kimssinemyeongham.netlify.app/",style:{width:"980px",height:"720px"}})}),e.jsx("primitive",{object:n.scene,scale:1.1,position:[100,0,63]}),e.jsx("primitive",{object:o.scene,scale:1.1,position:[100,0,63]}),e.jsx("primitive",{object:i.scene,scale:1.1,position:[100,0,63]}),e.jsx(E,{})]})}export{M as default};
